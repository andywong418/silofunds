extends admin-layout

block content
    .container
      .alert.alert-danger.alert-dismissible.hidden(role='alert')
        strong Oops!
        |  That fund has already been entered. Please try again.
      a.btn.btn-default.btn-link(href='/admin', role='button') Back to fund listings
      h1 Edit an existing fund:
      table.table.table-responsive
        form(action='/admin/' + fund.id + '/edit', method='post', name='create_fund')
          .row
            tr
              .col-md-6.form-group
                label(for='title') Title
                input#title.form-control(type='text', name='title', value=fund.title, required)
              .col-md-6.form-group
                label(for='tags') Tags (separate with comma, no space)
                input#tags.form-control(type='text', name='keywords', value=fund.tags, style="text-transform: lowercase;" required)
          .row
            tr
              .col-md-3.form-group
                label(for='min_age') Minimum Age
                input#min_age.form-control(type='number', name='min_age', value=fund.minimum_age)
              .col-md-3.form-group
                label(for='max_age') Maximum Age
                input#max_age.form-control(type='number', name='max_age', value=fund.maximum_age)
              .col-md-3.form-group
                label(for='min_amount') Minimum Amount
                input#min_amount.form-control(type='number', name='min_amount', value=fund.minimum_amount)
              .col-md-3.form-group
                label(for='max_amount') Maximum Amount
                input#max_amount.form-control(type='number', name='max_amount', value=fund.maximum_amount)
          .row
            tr
              .col-md-6.form-group
                label(for='description') Description
                textarea#description.form-control(rows='3', name='description')= fund.description
              .col-md-6.form-group
                label(for='financial_situation') Financial Situation
                textarea#financial_situation.form-control(rows='3', name='financial_situation')= fund.financial_situation
          .row
            tr
              .col-md-3.form-group
                label Gender
                .row
                  .col-md-4
                    label.radio-inline
                      input#male(type='radio', name='gender', value='male')
                      |  Male
                  .col-md-4
                    label.radio-inline
                      input#female(type='radio', name='gender', value='female')
                      |  Female
                  .col-md-4
                    a.btn.btn-default.btn-link#clear_gender(href='#', role='button') Clear
              .col-md-3.form-group
                label Merit or Finance based
                .row
                  .col-md-4
                    label.radio-inline
                      input#merit(type='radio', name='merit_or_finance', value='merit')
                      |  Merit
                  .col-md-4
                    label.radio-inline
                      input#finance(type='radio', name='merit_or_finance', value='finance')
                      |  Finance
                  .col-md-4
                    a.btn.btn-default.btn-link#clear_merit(href='#', role='button') Clear
              .col-md-3.form-group
                label(for='countries') Countries (separate with comma, no space)
                input#countries.form-control(type='text', name='countries', style="text-transform: lowercase;", value=fund.countries)
              .col-md-3.form-group
                label(for='religion') Religion (separate with comma, no space)
                input#religion.form-control(type='text', name='religion', style="text-transform: lowercase;", value=fund.religion)
          .row
            tr
              .col-md-6.form-group
                label(for='link') Link
                input#link.form-control(type='text', name='link', value=fund.link)
              .col-md-3.form-group
                label(for='link') Deadline
                input#deadline.form-control(type='date', name='deadline', value=deadline)
              .col-md-3.form-group
                label(for='invite') Invite Only?
                input#invite.form-control(type='checkbox', name='invite', value=fund.invite_only)
          .row
            tr
              .col-md-12.form-group
                button.btn.btn-danger(type='submit') Update fund!

    // jQuery (necessary for Bootstrap's JavaScript plugins)
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js')
    // Include all compiled plugins (below), or include individual files as needed
    script(src='../../javascript/lib/bootstrap.min.js')
    script(src='../../javascript/admin.js')
    script.
      var fund = !{JSON.stringify(fund)};
