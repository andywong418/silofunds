extend ../layout

block extraHeader
  link(href='/stylesheets/token-input-facebook.css', rel='stylesheet')
  link(href='/stylesheets/results.css', rel='stylesheet')
  link(href='/stylesheets/user-settings.css', rel='stylesheet')
block content
  script.
    var bodyEl = document.getElementsByTagName('body');
    var user = !{JSON.stringify(user)};
    if(user){
      bodyEl[0].className = bodyEl[0].className.split('nojs').join(' jsEnabled ');
    }
  include ../navbar.jade
  include ../signup-modal.jade
  #big_flex_div.container
    #left_div.col-md-3
      .profile
        #box-profile
          a(href='#') 
            img#userImage(src=user.profile_picture)
      .settings-tab-menu
        .list-group
          a.list-group-item(href="#")
            h5 General settings
              span.glyphicon.glyphicon-menu-right
          a.list-group-item(href="#")
            h5 Personal settings
              span.glyphicon.glyphicon-menu-right
          a.list-group-item.active(href="#")
            h5 Campaign settings
              span.glyphicon.glyphicon-menu-right
          a.list-group-item(href="#")
            h5 Education settings
              span.glyphicon.glyphicon-menu-right
    #right_div.col-md-9
      .settings-tab
        #general-settings.settings-tab-content
          .col-md-12.header
            h3 General Settings
            p.help-block Change your bio and other key information.
          .col-md-12.content
            .col-md-12.sub-content
              h4 Email preferences
              .col-md-12
                label.col-md-3(for='email') Email
                .col-md-6
                  input#email.form-control(type='text', name='email', value=user.email)
              .col-md-12
                label.col-md-3(for='email') Send me updates
                .col-md-6
                  if user.email_updates
                    input#email_updates(type='checkbox', name='email', checked)
                  else
                    input#email_updates(type='checkbox', name='email')
            .col-md-12.sub-content
              h4 Change your password
              .col-md-12
                label.col-md-3(for='previous_password') Previous password
                .col-md-3
                  input#previous_password.form-control(type='password', name='previous_password')
              .col-md-12
                label.col-md-3(for='new_password') New password
                .col-md-3
                  input#new_password.form-control(type='password', name='new_password')
              .col-md-12
                label.col-md-3(for='confirm_new_password') Confirm new password
                .col-md-3
                  input#confirm_new_password.form-control(type='password', name='confirm_new_password')
          .col-md-12.footer
            button#save-general-settings.btn.btn-primary(type='submit') Save changes
            #save-general-settings-notification Your changes have been saved
        #personal-settings.settings-tab-content
          .col-md-12.header
            h3 Personal Settings
            p.help-block Change your personal details.
          .col-md-12.content
            .col-md-12.sub-content
              h4 Subject Requirements
              .col-md-12
                label.col-md-3(for='username') Name
                .col-md-6
                  input#username.form-control(type='text', name='username', value=user.username)
              .col-md-12
                label.col-md-3(for='date_of_birth') Date of Birth
                .col-md-6
                  input#date_of_birth.form-control(type='date', name='date_of_birth', value=user.date_of_birth)
              .col-md-12
                label.col-md-3(for='religion') Religion
                .col-md-6
                  input#religion.form-control(type='text', name='religion', value=user.religion)
              .col-md-12
                label.col-md-3(for='country_of_residence') Country of Residence
                .col-md-6
                  input#country_of_residence.form-control(type='text', name='country_of_residence', value=user.country_of_residence)
          .col-md-12.footer
            button#save-personal-settings.btn.btn-primary(type='submit') Save changes
            #save-personal-settings-notification Your changes have been saved
        #campaign-settings.settings-tab-content.active
          .col-md-12.header
            h3 Campaign Settings
            p.help-block Change your campaigning details.
          .col-md-12.content
            .col-md-12.sub-content
              h4 About your campaign
              .col-md-12
                label.col-md-3(for='description') Describe your goal
                .col-md-8
                  textarea#description.form-control(name='description', rows='5')=user.description
              .col-md-12
                label.col-md-3(for='funding_needed') Target amount
                .col-md-3
                  input#funding_needed.form-control(type='text', name='funding_needed', form='', value=user.funding_needed)
              .col-md-12
                label.col-md-3(for='completion_date') to be achieved by
                .col-md-3
                  input#completion_date.form-control(type='date', name='completion_date', value=user.completion_date)
            .col-md-12.sub-content
              h4 Showcase your accomplishments
              .col-md-12
                label.col-md-3(for='past_work_1') Past work #1
                .col-md-3
                  input#past_work_1.realFileUpload.hidden(type="file", name="jsonData")
                  button#past_work_1.fakeFileUpload.btn.btn-default(type='') Upload
              .col-md-12
                label.col-md-3(for='past_work_1_description') Brief description
                .col-md-6
                  textarea#past_work_1_description.form-control(name='past_work_1_description', rows='4')
              .col-md-12
                label.col-md-3(for='past_work_2') Past work #2
                .col-md-3
                  input#past_work_2.realFileUpload.hidden(type="file", name="jsonData")
                  button#past_work_2.fakeFileUpload.btn.btn-default(type='') Upload
              .col-md-12
                label.col-md-3(for='past_work_2_description') Brief description
                .col-md-6
                  textarea#past_work_2_description.form-control(name='past_work_2_description', rows='4')
              .col-md-12
                label.col-md-3(for='past_work_3') Past work #3
                .col-md-3
                  input#past_work_3.realFileUpload.hidden(type="file", name="jsonData")
                  button#past_work_3.fakeFileUpload.btn.btn-default(type='') Upload
              .col-md-12
                label.col-md-3(for='past_work_3_description') Brief description
                .col-md-6
                  textarea#past_work_3_description.form-control(name='past_work_3_description', rows='4')
              .col-md-12
                label.col-md-3(for='past_work_4') Past work #4
                .col-md-3
                  input#past_work_4.realFileUpload.hidden(type="file", name="jsonData")
                  button#past_work_4.fakeFileUpload.btn.btn-default(type='') Upload
              .col-md-12
                label.col-md-3(for='past_work_4_description') Brief description
                .col-md-6
                  textarea#past_work_4_description.form-control(name='past_work_4_description', rows='4')
              .col-md-12
                label.col-md-3(for='past_work_5') Past work #5
                .col-md-3
                  input#past_work_5.realFileUpload.hidden(type="file", name="jsonData")
                  button#past_work_5.fakeFileUpload.btn.btn-default(type='') Upload
              .col-md-12
                label.col-md-3(for='past_work_5_description') Brief description
                .col-md-6
                  textarea#past_work_5_description.form-control(name='past_work_5_description', rows='4')
              .col-md-12
                label.col-md-3(for='link') Link
                .col-md-6
                  input#link.form-control(type='text', name='link', placeholder='Link to your website, portfolio, Github profile etc.', value=user.link)
          .col-md-12.footer
            button#save-campaign-settings.btn.btn-primary(type='submit') Save changes
            #save-campaign-settings-notification Your changes have been saved
        #education-settings.settings-tab-content
          .col-md-12.header
            h3 Education Settings
            p.help-block Change your education details.
          .col-md-12.content
            .col-md-12.sub-content
              h4 Your education history
              .col-md-12
                label.col-md-3(for='previous_degree') Completed degrees
                .col-md-6
                  input#previous_degree.form-control(type='text', name='previous_degree', value=user.previous_degree)
              .col-md-12
                label.col-md-3(for='previous_university') from these universities
                .col-md-6
                  input#previous_university.form-control(type='text', name='previous_university', form='', value=user.previous_university)
            .col-md-12.sub-content
              h4 Furher education
              .col-md-12
                label.col-md-3(for='subject') Target subjects
                .col-md-6
                  input#subject.form-control(type='text', name='subject', value=user.subject)
              .col-md-12
                label.col-md-3(for='target_degree') Target degrees
                .col-md-6
                  input#target_degree.form-control(type='text', name='target_degree', value=user.target_degree)
              .col-md-12
                label.col-md-3(for='target_university') Target universities
                .col-md-6
                  input#target_university.form-control(type='text', name='target_university', form='', value=user.target_university)
          .col-md-12.footer
            button#save-education-settings.btn.btn-primary(type='submit') Save changes
            #save-education-settings-notification Your changes have been saved            
block scripts
  script(src="/javascript/user-settings.js")
  script(src='/javascript/lib/jquery.tokeninput.js')
  script(src='https://cdn.tinymce.com/4/tinymce.min.js')
  script.
    var user = !{JSON.stringify(user)};
  //- script(src="/javascript/signup-login.js")
